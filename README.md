# 🏭 Mini TDD Factory

> **這是個許願池「只要你能把願望講清楚，AI 就能幫你實現。」**

這是一個讓 AI 自動幫你寫程式、跑測試的開發工廠。
不管你是什麼程度的開發者 (或 Vibe Coder)，這裡只有一個原則：**「把規格寫好，剩下的交給 AI。」**

---

## 💡 為什麼要用這個？

開發軟體最大的痛苦不是「寫程式」，而是「程式碼變成麵條，改 A 壞 B」。
我們用兩個方法解決這個問題：

### 1. 規格優先 (Spec-First)
與其花時間修 Bug，不如花時間把「需求」寫清楚。
這裡的運作方式叫 **TDD (測試驅動開發)**：
1. 你在 `RFP` 資料夾寫下願望 (需求與任務)。
2. AI 幫你寫出測試程式 (針對你的願望)。
3. AI 幫你寫出功能程式 (為了通過測試)。
**好處**：你只要維護好需求文檔，隨時都可以讓 AI 重新生成乾淨的程式碼。

### 2. 樂高法 (Lego Method) —— *強烈推薦*
為了讓 AI 更好改程式，我們發明了一種「樂高化」的開發方式。
*   **壞了就換**：每個功能都是獨立的小積木。如果一個積木寫爛了，直接刪掉叫 AI 重寫一個，三秒鐘的事。
*   **一檔一事**：每個檔案只做一件事，絕對不超過 100 行。
*   **超級解耦**：A 積木壞了，絕對不會影響到 B 積木。

---

## 🚀 快速跳坑 (Quick Start)

別管那些理論了，先讓工廠動起來看看！

### 1. 安裝環境
確保你有 Python 3，然後安裝必要套件：
```bash
pip install -r requirements.txt
```

### 2. 檢查設定
打開 `factory_config.md`，確認這兩行是對的：
```markdown
LANGUAGE=python
LEGO_MODE=true
```
*(這代表我們要用 Python 語言，並且啟用「樂高模式」來開發)*

### 3. 先玩玩看範例
我們預放了一個「計算機」的積木。直接輸入：
```bash
pytest
```
如果你看到綠色的 `PASSED`，恭喜你！你的自動化工廠已經準備好開工了。

---

## 🛠 如何開始做自己的專案？

### 第一步：許願 (Make a Wish)
你只需要動這兩個檔案，用中文寫：
1. **`RFP/requirements.md` (需求書)**：
   寫下你想做什麼。
   > *例：「我要做一個匯率轉換器，輸入台幣顯示美金，匯率要即時抓某某銀行的 API...」*
2. **`RFP/tasks.md` (任務單)**：
   把大目標切成小步驟，打勾勾給 AI 看。
   > - [ ] 取得目前匯率
   > - [ ] 實作轉換計算

### 第二步：啟動工廠 (Run)
在終端機輸入：
```bash
./factory.sh
```
然後你就可以去喝咖啡了。
AI 會看到你的任務，開始自言自語：「好，先寫測試...測試失敗...寫功能...修正...測試通過！(綠燈)」。

---

## ⚙️ 進階設定 (factory_config.md)

打開 `factory_config.md` 可以調整工廠的行為：

*   **`LEGO_MODE=true` (樂高模式)**：
    *   AI 會嚴格遵守「樂高法」，檔案很小、結構很乾淨。
    *   **適合**：想做長久維護、高品質的專案。
*   **`LEGO_MODE=false` (標準模式)**：
    *   AI 自由發揮，沒有架構限制。
    *   **適合**：隨手寫個小腳本，用完即丟。
*   **`MODE=Dual` (Supervisor 模式)**：
    *   測試失敗時工廠會暫停，問你要不要插手 (適合搭配 Cursor/IDE 使用)。
*   **`MODE=Single` (YOLO 模式)**：
    *   全自動掛機，失敗了 AI 會自己想辦法重試，直到成功為止。

---

## 🧱 樂高法是什麼？(給有興趣的人)

如果你開啟了 `LEGO_MODE=true`，你的專案會長這樣：

```text
/
├── contracts/  # 📜 說明書：定義資料長怎樣 (Schema)
├── tests/      # 🧪 測試儀：驗證積木是好的 (Tests)
├── actions/    # 🧱 積木區：核心邏輯，壞了直接丟掉重寫 (Logic)
└── entry/      # 🔌 接頭：API 或是 CLI 指令 (Entry Points)
```

這就是為什麼我們可以說「壞了就換，不用修」。
因為每個積木都有說明書 (Contract) 和測試儀 (Tests)，AI 只要重做一個能通過測試的積木塞進去就好了！
